<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hyperspace D6 Character Sheet</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>Hyperspace D6 Character Sheet</h1>
  <div style="text-align: center; margin-bottom: 1rem;">
    <button type="button" onclick="toggleTheme()">Toggle Theme</button>
  </div>

  <form id="character-form">
    <fieldset id="all-attributes">
      <legend>Attributes & Skills</legend>
      
       <fieldset>
      <legend>DEX (Dexterity)</legend>
      
      <label>DEX (Dexterity): <input type="number" id="attr-dex" min="1" max="6" oninput="updateDerivedStats()"></label>
      <ul>
        <li><label>Agility: <input type="number" id="skill-agility" min="0" max="6"></label></li>
        <li><label>Blasters: <input type="number" id="skill-blasters" min="0" max="6"></label></li>
        <li><label>Melee: <input type="number" id="skill-melee" min="0" max="6"></label></li>
        <li><label>Steal: <input type="number" id="skill-steal" min="0" max="6"></label></li>
        <li><label>Throw: <input type="number" id="skill-throw" min="0" max="6"></label></li>
      </ul>
          </fieldset>
     <fieldset>
      <label>STR (Strength) <input type="number" id="attr-str" min="1" max="6" oninput="updateDerivedStats()"></label>
      <ul>
        <li><label>Athletics: <input type="number" id="skill-athletics" min="0" max="6"></label></li>
        <li><label>Brawl: <input type="number" id="skill-brawl" min="0" max="6"></label></li>
        <li><label>Intimidate: <input type="number" id="skill-intimidate" min="0" max="6"></label></li>
        <li><label>Stamina: <input type="number" id="skill-stamina" min="0" max="6"></label></li>
        <li><label>Swim: <input type="number" id="skill-swim" min="0" max="6"></label></li>
      </ul>
    </fieldset>

    <fieldset>
      <legend>KNO (Knowledge)</legend>
      <label>KNO: <input type="number" id="attr-kno" min="1" max="6"></label>
      <ul>
        <li><label>Galaxy: <input type="number" id="skill-galaxy" min="0" max="6"></label></li>
        <li><label>Streetwise: <input type="number" id="skill-streetwise" min="0" max="6"></label></li>
        <li><label>Survival: <input type="number" id="skill-survival" min="0" max="6"></label></li>
        <li><label>Willpower: <input type="number" id="skill-willpower" min="0" max="6"></label></li>
        <li><label>Xenology: <input type="number" id="skill-xenology" min="0" max="6"></label></li>
      </ul>
    </fieldset>

    <fieldset>
      <legend>MEC (Mechanical)</legend>
      <label>MEC: <input type="number" id="attr-mec" min="1" max="6"></label>
      <ul>
        <li><label>Astrogation: <input type="number" id="skill-astrogation" min="0" max="6"></label></li>
        <li><label>Drive: <input type="number" id="skill-drive" min="0" max="6"></label></li>
        <li><label>Gunnery: <input type="number" id="skill-gunnery" min="0" max="6"></label></li>
        <li><label>Pilot: <input type="number" id="skill-pilot" min="0" max="6"></label></li>
        <li><label>Sensors: <input type="number" id="skill-sensors" min="0" max="6"></label></li>
      </ul>
    </fieldset>

    <fieldset>
      <legend>PER (Perception)</legend>
      <label>PER: <input type="number" id="attr-per" min="1" max="6" oninput="updateDerivedStats()"></label>
      <ul>
        <li><label>Deceive: <input type="number" id="skill-deceive" min="0" max="6"></label></li>
        <li><label>Hide: <input type="number" id="skill-hide" min="0" max="6"></label></li>
        <li><label>Persuade: <input type="number" id="skill-persuade" min="0" max="6"></label></li>
        <li><label>Search: <input type="number" id="skill-search" min="0" max="6"></label></li>
        <li><label>Tactics: <input type="number" id="skill-tactics" min="0" max="6"></label></li>
      </ul>
    </fieldset>

    <fieldset>
      <legend>TEC (Technical)</legend>
      <label>TEC: <input type="number" id="attr-tec" min="1" max="6"></label>
      <ul>
        <li><label>Armament: <input type="number" id="skill-armament" min="0" max="6"></label></li>
        <li><label>Computers: <input type="number" id="skill-computers" min="0" max="6"></label></li>
        <li><label>Droids: <input type="number" id="skill-droids" min="0" max="6"></label></li>
        <li><label>Medicine: <input type="number" id="skill-medicine" min="0" max="6"></label></li>
        <li><label>Vehicles: <input type="number" id="skill-vehicles" min="0" max="6"></label></li>
      </ul>
    </fieldset>

    <fieldset>
      <legend>THE FORCE</legend>
      <label>THE FORCE: <input type="number" id="attr-force" min="1" max="6"></label>
      <ul>
        <li><label>Alter: <input type="number" id="skill-alter" min="0" max="6"></label></li>
        <li><label>Control: <input type="number" id="skill-control" min="0" max="6"></label></li>
        <li><label>Sense: <input type="number" id="skill-sense" min="0" max="6"></label></li>
      </ul>
    </fieldset>
           </fieldset>

    <fieldset>
      <legend>Weapons</legend>
      <select id="weapon-dropdown"></select>
      <ul id="weapon-list"></ul>
    </fieldset>

    <fieldset>
      <legend>Armor</legend>
      <select id="armor-dropdown"></select>
      <div id="equipped-armor"></div>
    </fieldset>

    <fieldset>
      <legend>Equipment</legend>
      <select id="equipment-dropdown"></select>
      <ul id="equipment-list"></ul>
    </fieldset>

    <fieldset>
      <legend>Derived Stats</legend>
      <label>Defense: <input type="number" id="derived-defense" readonly></label>
      <label>Initiative: <input type="number" id="derived-initiative" readonly></label>
      <label>Resolve: <input type="number" id="derived-resolve" readonly></label>
      <label>Current Resolve: <input type="number" id="current-resolve"></label>
    </fieldset>

    <fieldset>
      <legend>Wound Status</legend>
      <label><input type="checkbox" id="status-staggered"> Staggered</label>
      <label><input type="checkbox" id="status-stunned"> Stunned</label>
      <label><input type="checkbox" id="status-downed"> Downed</label>
    </fieldset>
    <fieldset>
      <legend>Data Management</legend>
      <button type="button" onclick="saveToJSON()">Export to JSON</button>
      <button type="button" onclick="loadFromJSON()">Import from JSON</button>
      <button type="button" onclick="saveToCSV()">Export to CSV</button>
      <input type="file" id="csv-upload" accept=".csv" onchange="loadFromCSV(event)" />
      <button type="button" onclick="saveToSupabase()">Save to Supabase</button>
    </fieldset>
  </form>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
  window.addEventListener('DOMContentLoaded', () => {
    loadSupabaseItems('weapons', 'weapon-dropdown');
    loadSupabaseItems('armor', 'armor-dropdown');
    loadSupabaseItems('equipment', 'equipment-dropdown');
  });
</script>
<script src="script.js"></script>
</body>
</html>
