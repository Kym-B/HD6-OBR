<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hyperspace D6 Character Sheet</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>Hyperspace D6 Character Sheet</h1>
  <div style="text-align: center; margin-bottom: 1rem;">
    <button type="button" class="theme-toggle" onclick="toggleTheme()">Toggle Theme</button>
  </div>

  <form id="character-form">
  <fieldset>
    <legend>Character Details</legend>
    <label>Name: <input type="text" id="char-name" name="char-name"></label>
    <div class="field-group"><label>Role: <select id="char-role" name="char-role"></select></label></div>
    <div class="field-group"><label>Species: <select id="char-species" name="char-species"></select></label></div>
    <label>Homeworld: <input type="text" id="char-homeworld" name="char-homeworld"></label>
    <label>Sex: <input type="text" id="char-sex" name="char-sex"></label>
    <label>Age: <input type="number" id="char-age" name="char-age"></label>
    <label>Height: <input type="text" id="char-height" name="char-height"></label>
    <label>Weight: <input type="text" id="char-weight" name="char-weight"></label>
    <label>Looks: <textarea id="char-looks" name="char-looks"></textarea></label>
    <label>Personality: <textarea id="char-personality" name="char-personality"></textarea></label>
    <label>Quote: <textarea id="char-quote" name="char-quote"></textarea></label>
  </fieldset>
    <fieldset id="all-attributes" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
      <legend>Attributes & Skills</legend>
      
       <fieldset style="min-width: 280px;"><legend>DEX (Dexterity)</legend>
      
      <label data-tooltip-key="dex">DEX: <input type="number" id="attr-dex" min="1" max="6" oninput="updateDerivedStats()"></label>
      <ul>
        <li><label data-tooltip-key="agility">Agility: <input type="number" id="skill-agility" min="0" max="6" oninput="updateTotalDice('agility')"></label></li>
        <li><label data-tooltip-key="blasters">Blasters: <input type="number" id="skill-blasters" min="0" max="6" oninput="updateTotalDice('blasters')"></label></li>
        <li><label data-tooltip-key="melee">Melee: <input type="number" id="skill-melee" min="0" max="6" oninput="updateTotalDice('melee')"></label></li>
        <li><label data-tooltip-key="steal">Steal: <input type="number" id="skill-steal" min="0" max="6" oninput="updateTotalDice('steal')"></label></li>
        <li><label data-tooltip-key="throw">Throw: <input type="number" id="skill-throw" min="0" max="6" oninput="updateTotalDice('throw')"></label></li>
      </ul>
          </fieldset>
     <fieldset style="min-width: 280px;"><legend>STR (Strength)</legend>
      <label data-tooltip-key="str">STR: <input type="number" id="attr-str" min="1" max="6" oninput="updateDerivedStats()"></label>
      <ul>
        <li><label data-tooltip-key="athletics">Athletics: <input type="number" id="skill-athletics" min="0" max="6" oninput="updateTotalDice('athletics')"></label></li>
        <li><label data-tooltip-key="brawl">Brawl: <input type="number" id="skill-brawl" min="0" max="6" oninput="updateTotalDice('brawl')"></label></li>
        <li><label data-tooltip-key="intimidate">Intimidate: <input type="number" id="skill-intimidate" min="0" max="6" oninput="updateTotalDice('intimidate')"></label></li>
        <li><label data-tooltip-key="stamina">Stamina: <input type="number" id="skill-stamina" min="0" max="6" oninput="updateTotalDice('stamina')"></label></li>
        <li><label data-tooltip-key="swim">Swim: <input type="number" id="skill-swim" min="0" max="6" oninput="updateTotalDice('swim')"></label></li>
      </ul>
    </fieldset>

    <fieldset style="min-width: 280px;"><legend>KNO (Knowledge)</legend>
      <label data-tooltip-key="kno">KNO: <input type="number" id="attr-kno" min="1" max="6"></label>
      <ul>
        <li><label data-tooltip-key="galaxy">Galaxy: <input type="number" id="skill-galaxy" min="0" max="6" oninput="updateTotalDice('galaxy')"></label></li>
        <li><label data-tooltip-key="streetwise">Streetwise: <input type="number" id="skill-streetwise" min="0" max="6" oninput="updateTotalDice('streetwise')"></label></li>
        <li><label data-tooltip-key="survival">Survival: <input type="number" id="skill-survival" min="0" max="6" oninput="updateTotalDice('survival')"></label></li>
        <li><label data-tooltip-key="willpower">Willpower: <input type="number" id="skill-willpower" min="0" max="6" oninput="updateTotalDice('willpower')"></label></li>
        <li><label data-tooltip-key="xenology">Xenology: <input type="number" id="skill-xenology" min="0" max="6" oninput="updateTotalDice('xenology')"></label></li>
      </ul>
    </fieldset>

    <fieldset style="min-width: 280px;"><legend>MEC (Mechanical)</legend>
      <label data-tooltip-key="mec">MEC: <input type="number" id="attr-mec" min="1" max="6"></label>
      <ul>
        <li><label data-tooltip-key="astrogation">Astrogation: <input type="number" id="skill-astrogation" min="0" max="6" oninput="updateTotalDice('astrogation')"></label></li>
        <li><label data-tooltip-key="drive">Drive: <input type="number" id="skill-drive" min="0" max="6" oninput="updateTotalDice('drive')"></label></li>
        <li><label data-tooltip-key="gunnery">Gunnery: <input type="number" id="skill-gunnery" min="0" max="6" oninput="updateTotalDice('gunnery')"></label></li>
        <li><label data-tooltip-key="pilot">Pilot: <input type="number" id="skill-pilot" min="0" max="6" oninput="updateTotalDice('pilot')"></label></li>
        <li><label data-tooltip-key="sensors">Sensors: <input type="number" id="skill-sensors" min="0" max="6" oninput="updateTotalDice('sensors')"></label></li>
      </ul>
    </fieldset>

    <fieldset style="min-width: 280px;"><legend>PER (Perception)</legend>
      <label data-tooltip-key="per">PER: <input type="number" id="attr-per" min="1" max="6" oninput="updateDerivedStats()"></label>
      <ul>
        <li><label data-tooltip-key="deceive">Deceive: <input type="number" id="skill-deceive" min="0" max="6" oninput="updateTotalDice('deceive')"></label></li>
        <li><label data-tooltip-key="hide">Hide: <input type="number" id="skill-hide" min="0" max="6" oninput="updateTotalDice('hide')"></label></li>
        <li><label data-tooltip-key="persuade">Persuade: <input type="number" id="skill-persuade" min="0" max="6" oninput="updateTotalDice('persuade')"></label></li>
        <li><label data-tooltip-key="search">Search: <input type="number" id="skill-search" min="0" max="6" oninput="updateTotalDice('search')"></label></li>
        <li><label data-tooltip-key="tactics">Tactics: <input type="number" id="skill-tactics" min="0" max="6" oninput="updateTotalDice('tactics')"></label></li>
      </ul>
    </fieldset>

    <fieldset style="min-width: 280px;"><legend>TEC (Technical)</legend>
      <label data-tooltip-key="tec">TEC: <input type="number" id="attr-tec" min="1" max="6"></label>
      <ul>
        <li><label data-tooltip-key="armament">Armament: <input type="number" id="skill-armament" min="0" max="6" oninput="updateTotalDice('armament')"></label></li>
        <li><label data-tooltip-key="computers">Computers: <input type="number" id="skill-computers" min="0" max="6" oninput="updateTotalDice('computers')"></label></li>
        <li><label data-tooltip-key="droids">Droids: <input type="number" id="skill-droids" min="0" max="6" oninput="updateTotalDice('droids')"></label></li>
        <li><label data-tooltip-key="medicine">Medicine: <input type="number" id="skill-medicine" min="0" max="6" oninput="updateTotalDice('medicine')"></label></li>
        <li><label data-tooltip-key="vehicles">Vehicles: <input type="number" id="skill-vehicles" min="0" max="6" oninput="updateTotalDice('vehicles')"></label></li>
      </ul>
    </fieldset>

    <fieldset style="min-width: 280px;"><legend>THE FORCE</legend>
      <label data-tooltip-key="force">THE FORCE: <input type="number" id="attr-force" min="1" max="6"></label>
      <ul>
        <li><label data-tooltip-key="alter">Alter: <input type="number" id="skill-alter" min="0" max="6" oninput="updateTotalDice('alter')"></label></li>
        <li><label data-tooltip-key="control">Control: <input type="number" id="skill-control" min="0" max="6" oninput="updateTotalDice('control')"></label></li>
        <li><label data-tooltip-key="sense">Sense: <input type="number" id="skill-sense" min="0" max="6" oninput="updateTotalDice('sense')"></label></li>
      </ul>
    </fieldset>
           </fieldset>

    <fieldset>
      <legend>Weapons</legend>
      <select id="weapon-dropdown"></select>
      <ul id="weapon-list"></ul>
    </fieldset>

    <fieldset>
      <legend>Armor</legend>
      <select id="armor-dropdown"></select>
      <div id="equipped-armor"></div>
    </fieldset>

    <fieldset>
      <legend>Equipment</legend>
      <select id="equipment-dropdown"></select>
      <ul id="equipment-list"></ul>
    </fieldset>

    <fieldset>
      <legend>Derived Stats</legend>
      <label>Defense: <input type="number" id="derived-defense" readonly></label>
      <label>Initiative: <input type="number" id="derived-initiative" readonly></label>
      <label>Resolve: <input type="number" id="derived-resolve" readonly></label>
      <label>Current Resolve: <input type="number" id="current-resolve"></label>
    </fieldset>

    <fieldset>
      <legend>Wound Status</legend>
      <label><input type="checkbox" id="status-staggered"> Staggered</label>
      <label><input type="checkbox" id="status-stunned"> Stunned</label>
      <label><input type="checkbox" id="status-downed"> Downed</label>
    </fieldset>
    <fieldset>
      <legend>Data Management</legend>
      <button type="button" onclick="printCharacterSheet()">Print</button>
      <button type="button" onclick="saveToJSON()">Export to JSON</button>
      <button type="button" onclick="loadFromJSON()">Import from JSON</button>
      <button type="button" onclick="saveToCSV()">Export to CSV</button>
      <input type="file" id="csv-upload" accept=".csv" onchange="loadFromCSV(event)" />
      <button type="button" onclick="saveToSupabase()">Save to Supabase</button>
    </fieldset>
  </form>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  
<script src="script.js"></script>
</body>
</html>